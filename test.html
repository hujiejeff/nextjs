<!DOCTYPE html>
<!-- v5 -->
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>è¶…èŒï¼å®æ‹å‘¼ä¼¦è´å°”è‰åŸæ²™ç‹å‡ºæ²¡ </title>
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <style>
        * {
            word-wrap: break-word;
        }
    </style>
            <link rel="stylesheet" type="text/css" href="https://m-api.dutenews.com//assets/v2/output/article_v5.min.css?_=20190524001">
        <link rel="stylesheet" type="text/css" href="https://m-api.dutenews.com//assets/v2/css/comment_v5.css">
    

        <style>
        @font-face {
            font-family: "FZBiaoYaSong--GB1-0-YS";
            src: url("file:///android_asset/fonts/FZBIAOYSJW.TTF");
        }

        @font-face {
            font-family: "FZCYSK--GBK1-0";
            src: url("file:///android_asset/fonts/FZCYSK.ttf");
        }

        @font-face {
            font-family: "FZYOUSK_507R--GBK1-0";
            src: url("file:///android_asset/fonts/FZYouSK_507R.TTF");
        }

        .title h3 {
            font-family: "FZCYSK--GBK1-0", "PingFangSC-Regular" !important;
        }

        body {
            font-family: "FZBiaoYaSong--GB1-0-YS", "FZYOUSK_507R--GBK1-0", "PingFangSC-Regular" !important;
        }

        .share-box .praise .btn {
            font-family: "FZBiaoYaSong--GB1-0-YS", "FZYOUSK_507R--GBK1-0", "PingFangSC-Regular" !important;
        }

        .module-title {
            font-family: "FZBiaoYaSong--GB1-0-YS", "FZYOUSK_507R--GBK1-0", "PingFangSC-Regular" !important;
        }

        article img {
            height: auto !important;
        }

        .article .editor {
            color: rgb(127, 127, 127);
            font-size: 14px;
            line-height: 1.5em;
            padding-top: 1.5em;
        }
        .article .editor .person{
            margin-right: 6px;
        }
        
        video {
            width: 100% !important;
        }

        .vote-link {
            padding-bottom: 15px;
            border: none;
            height: initial;
            line-height: initial;
			display: flex;
        }

        .new-margin {
            margin-top: 5px;
        }

        .vote-link a {
            font-size: 0.14rem;
            color: #000;
            width: inherit;
            margin-left: 0;
            text-decoration: none;
            flex:1
        }

        .vote-link .new-icon-zhuanti {
            display: inline-block;
            width: 0.16rem;
            height: 0.16rem;
            background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAeCAMAAAAIG46tAAAApVBMVEUAAAD3Tkb3T0X3TkX/XFz/gYH/g4P+V1L3TkX/gYH3TkT4TkX/fX32TUX/gYH/gYH3TkX/gYH2TkX3TkX3TkT3TkT3TkX/gYH/goL3TUT3Tkb/gYH4TUX3TkX/gYH1TkX/gYH5Tkb2TUX/gYH/gYH/gYH/goL/goL/goL/gYH/fX32TkX3TkT3TkX2TkX/goL3T0X3TEf/goL/gYH/gYH2TkX/gYHP3bLSAAAANXRSTlMAmhv7BvIeE+PGgm8Q7q359d3RxL21k4huZl1WTENCMyol6uXTlnNoNDANraGNVEg9L72AXamf7sUAAAE6SURBVCjPjdJpl4IgFAZgXMmlssxKs8wWl/Zmhvv/f9rAAQTm9GHu6QP4eLhveFGZ3V/oQ73uWYkOhJCDVbo6uKXFHo8R4ZVcC8wFF9dEPGTo8KWziGw7WsidwPpxGxOjxrdHLdCmXbbLkZTRcksT2ApZVeGISljxnUJRFiGWXCt8rnwDL76GR5ie/QHjlTftFbYewHQnsKEbb6/1jL89+OF4AXaMGSju5LFrFkDD82zt6oE2jYYzgON6wM0J4KlwPwGAVmBA11+x1pPyrOPoehDs9J5xr92Q35k3dGIvq0D9JMAKWcvA58gD7AbkARtxCR6N3pqXsFnFMi390//8ZFmB/yIuMoaJnC2FcsoSlMvZmodvhu9wLqcsN2bLoT99ynhV8nV5SIWMqqPUYeCkUY0+FM7TNMdI1S97eVA5ZZJhwQAAAABJRU5ErkJggg==');
            background-size: 100% 100%;
            margin-right: 0.12rem;
			z-index:99;
			position:relative;
			top:2px
        }

        .scaleFont{ line-height:1.4 !important}
    </style>

<body>
    <img src="https://mic-comm.dutenews.com/a/video/2021/07/22/6c5d42c1dc3c4b48a577af5d1cfdcc83.jpg" style="height:0px;width:0px;display:block;opacity: 0;">
    <div class="g-container" style="opacity: 0; transition: all 0.5s;">
        <header>
            <div class="b-header">

                <span class="bg"></span>
                <div class="title">
                    <h3  id="a_nt">è¶…èŒï¼å®æ‹å‘¼ä¼¦è´å°”è‰åŸæ²™ç‹å‡ºæ²¡ </h3>
                    <div class="detail">
                        <!--è‡ªåŠ¨å…³è”ä¸“é¢˜é“¾æ¥-->
                        
                        <div class="author">
                            <!-- åŸåˆ› -->
                            
                            <!-- æ¥æº -->
                                                            <!-- <i>Â·</i> -->
                                <!-- <span class="terms dark" style="overflow: hidden;text-overflow: ellipsis;white-space: nowrap;width: 134px;display: inline-block;height: 19px;vertical-align: text-bottom;">ä¸­å›½æ–°é—»ç½‘</span> -->
                                <span class="terms dark" style="overflow: hidden;text-overflow: ellipsis;white-space: nowrap;width: 134px;display: inline-block;height: 18px;vertical-align:top;">ä¸­å›½æ–°é—»ç½‘</span>
                            
                            <!-- ä½œè€… -->
                            
                            <!--æ˜¾ç¤ºå‘å¸ƒæ—¶é—´-->
                            <span class="terms">2021-07-22 14:32</span>


                            <!-- pv -->
                            
                                                            <span id="read" class="read" src-data='0'>
                                    <label class='iconfont voice_3'></label>
                                </span>
                                                    </div>
                    </div>
                </div>
            </div>
        </header>
        <article>
            <div class="article">
                
                <div id="content_size" class="article-content"><p style="text-align: center;"><iframe  src='https://app.dutenews.com/video/player/index?vid=66620&amp;thumb=https%3A%2F%2Fmic-comm.dutenews.com%2Fa%2Fvideo%2F2021%2F07%2F22%2F6c5d42c1dc3c4b48a577af5d1cfdcc83.jpg&amp;sid=10001&amp;next=&amp;autoStart=0&amp;type=&amp;customid=10008&amp;channel=' frameborder=0 width='100%' allowfullscreen></iframe></p>
<p style="margin-top: 1.5em; margin-bottom: 1.5em; line-height: 1.8; font-size: 18px; text-align: justify;">è¿‘æ—¥ï¼Œå†…è’™å¤è‡ªæ²»åŒºé¢å°”å¤çº³å¸‚æ‘„å½±çˆ±å¥½è€…æ‹æ‘„åˆ°ä¸€ç»„æ²™ç‹å®¶æ—åœ¨è‰åŸä¸Šå¹¸ç¦ç”Ÿæ´»çš„çè´µç”»é¢ã€‚</p>
<p style="margin-top: 1.5em; margin-bottom: 1.5em; line-height: 1.8; font-size: 18px; text-align: justify;">è§†é¢‘å¯è§ï¼Œä¸€æœ›æ— é™…çš„å‘¼ä¼¦è´å°”å¤§è‰åŸä¸Šï¼Œå…­åªå°æ²™ç‹åœ¨å¤•é˜³ä¸‹äº’ç›¸è¿½é€ã€ç©è€ï¼Œå®ƒä»¬åœ¨ç­‰å¾…å¦ˆå¦ˆä¸ºå®ƒä»¬å¸¦æ¥ç¾å‘³çš„æ™šé¤ã€‚</p>
<p style="margin-top: 1.5em; margin-bottom: 1.5em; line-height: 1.8; font-size: 18px; text-align: justify;">è¿™äº›æ²™ç‹ä¸ºè¿™ç‰‡è‰åŸå¢æ·»äº†ç”Ÿæœºä¸æ´»åŠ›ï¼Œè®©å®é™çš„è‰åŸå˜å¾—çƒ­é—¹èµ·æ¥ã€‚</p>
<p style="margin-top: 1.5em; margin-bottom: 1.5em; line-height: 1.8; font-size: 18px; text-align: justify;">ç‹ç‹¸æ˜¯å›½å®¶äºŒçº§é‡ç‚¹ä¿æŠ¤é‡ç”ŸåŠ¨ç‰©ï¼Œå…¶ä¸­æ²™ç‹æ˜¯ä¸­å›½ç‹å±ä¸­ä½“å‹æœ€å°çš„ã€‚æ®èµ„æ–™æ˜¾ç¤ºï¼Œæ²™ç‹ä¸»è¦æ –æ¯äºè‰åŸã€è’æ¼ å’ŒåŠè’æ¼ åœ°å¸¦ï¼Œä»¥å•®é½¿ç±»åŠ¨ç‰©ä¸ºä¸»è¦é£Ÿç‰©ã€‚</p>
<p style="margin-top: 1.5em; margin-bottom: 1.5em; line-height: 1.8; font-size: 18px; text-align: justify;">ï¼ˆåŸæ ‡é¢˜ã€Šè¶…èŒï¼å®æ‹å‘¼ä¼¦è´å°”è‰åŸæ²™ç‹å‡ºæ²¡&nbsp;ã€‹ï¼‰</p>
<div></div><div></div></div>

                <!--æŠ•ç¥¨æŒ‚ä»¶-->
                


<!--å…³è”æŠ•ç¥¨é“¾æ¥-->


<!--å…³è”æ´»åŠ¨æŠ¥åé“¾æ¥-->

<!--å…³è”è§†é¢‘é“¾æ¥-->

                
                <!-- ç¼–è¾‘/å®¡è¯»/å®¡æ ¸ äººå‘˜ä¿¡æ¯ -->
                                  <div class="editor">

                                            <span class="person">ç¼–è¾‘
                        é«˜åŸ                         </span>
                    
                                          <span class="person">å®¡è¯» 
                        å´å‰‘æ—                       </span>
                    
                                          <span class="person">å®¡æ ¸ 

                        ææ—å¤• å¼ é›ªæ¾                       
                      </span>
                    
                  </div>
                
            </div>
            <!--script_1-->
        </article>
        

        <script type="text/javascript" src="https://m-api.dutenews.com//assets/v2/js/jquery.js"></script>
        <script type="text/javascript" src="https://m-api.dutenews.com//sdk/v2/mc.js"></script>
        <!--é™„ä»¶ä¸‹è½½-->
        
        <!-- åˆ†äº«ã€å¹¿å‘Šã€ç›¸å…³é˜…è¯»-->
        <!-- v5 -->
    <section class="share-box">
        <div class="praise">
            <div class="btn" onclick="onPraise(event)" style="position: relative;">
                <span><i class="iconfont icon-dianzan--"></i></span>
                <span id="praiseNum">18</span>
            </div>
        </div>

        <div class="module-title share-title-dute">
            åˆ†äº«åˆ°
        </div>
        <div class="share-box-button">
            <span data-function="shareWeChat" title="åˆ†äº«åˆ°å¾®ä¿¡"><img style="width:45px;" src="https://m-api.dutenews.com//assets/v2/img/share/wechat.png" /></span>
            <span data-function="shareTimeline" title="åˆ†äº«åˆ°æœ‹å‹åœˆ"><img style="width:45px;" src="https://m-api.dutenews.com//assets/v2/img/share/circle.png" /></span>
            <span data-function="shareWeibo" title="åˆ†äº«åˆ°æ–°æµªå¾®åš"><img style="width:45px;" src="https://m-api.dutenews.com//assets/v2/img/share/weibo.png" /></span>
            <span data-function="shareQQMessage" title="åˆ†äº«åˆ°qqå¥½å‹"><img style="width:45px;" src="https://m-api.dutenews.com//assets/v2/img/share/QQ.png" /></span>
            <div class="share-data" style="display: none;">
                <title>è¶…èŒï¼å®æ‹å‘¼ä¼¦è´å°”è‰åŸæ²™ç‹å‡ºæ²¡ </title>
                <description>æ®èµ„æ–™æ˜¾ç¤ºï¼Œæ²™ç‹ä¸»è¦æ –æ¯äºè‰åŸã€è’æ¼ å’ŒåŠè’æ¼ åœ°å¸¦ï¼Œä»¥å•®é½¿ç±»åŠ¨ç‰©ä¸ºä¸»è¦é£Ÿç‰©</description>
                <share-image>https://mic-comm.dutenews.com/a/video/2021/07/22/6c5d42c1dc3c4b48a577af5d1cfdcc83.jpg</share-image>
                <share-url>https://m.dutenews.com/p/3007261.html</share-url>
            </div>
        </div>
    </section>
    <script>
        function isHongmen(){
            let UA = navigator.userAgent;
            return /HarmonyOS/gi.test(UA);
        }
        if(isHongmen()){
            $('.share-title-dute').hide();
            $('.share-box-button').hide();
            $('.share-box').css('paddingBottom','5px');
        }


        var dute_ip = window.location.host;
        var dute_mpid = 5;
        if (dute_ip.indexOf('szdute') == -1) {
            dute_mpid = 6
        }
        var ta = document.createElement("script");
        ta.setAttribute('id','_trs_ta_js');
        ta.setAttribute('async','async');
        ta.setAttribute('defer','defer');
        ta.src = "https://mgta.szpgm.com:8801/c/js/ta.js?mpid=" + dute_mpid;
        ta.onload = ta.onreadystatechange = function () {
            console.log('TA17Objåˆå§‹åŒ–');
            if (!this.readyState || this.readyState === "loaded" || this.readyState === "complete") {
                (function (a, b, c, d) {
                    a[b] = a[b] || {};
                    a[b][d] = a[b][d] || function () {
                        (a[c] = a[c] || []).push(arguments);``
                    };
                }(window, "TA17Obj", "TAQueueArr", "track"));
                ta.onload = ta.onreadystatechange = null;
            }
        };
        var du_s = document.getElementsByTagName("script")[0];
        du_s.parentNode.insertBefore(ta, du_s);
    </script>
    <script>
        var userInfoId = '';
        $(document).ready(function() {
            $.ajax({
                type: "get",
                url: "https://m.dutenews.com/index/ajax/likes?contentid=3007261",
                dataType: 'jsonp',
                success: function(data) {
                    $('#praiseNum').text(data.data);
                }
            });
        });
        var _color = {"id":2,"name":"\u5c0a\u4eab\u7ea2","color_begin":"#F64E45","color":"#F64E45"};
        $('.btn').css("background", 'linear-gradient(to left,' + _color.color + ',' + _color.color_begin + ')').css('color', 'white');

        if (window.mc) {
            mc.userGetInfo(function(userInfo) {
                if (userInfo.data.id) {
                    userInfoId = userInfo.data.id;
                }
            });
         }



        function onPraise(e) {
            if ($('.btn').attr('class').indexOf('onck') == -1) {
                $.get('http://tj.dutenews.com/tj.gif?sid=10001&cid=3007261&aid=1&type=app&url=https%3A%2F%2Fm.dutenews.com%2Fp%2F3007261.html&action=like', function(xml, textStatus, xhr) {
                    if (200 == xhr.status) {
                        $('.btn').addClass('onck');
                    }
                });
                if (mc) {
                    if(userInfoId && userInfoId != ""){
                        var data = {
                                'contentid': 3007261,
                                'member_id': userInfoId,
                                'siteid': 10001                            };
                            if(isEquipment().isApp && isNewVersions()){
                                data.credit = '0'
                             }
                            $.post('https://www.dutenews.com/index/ajax/memberDigg', data, function(res) {
                                console.log(res);
                            });
                    }else{
                        mc.userGetInfo(function(userInfo) {
                            if (userInfo.data.id) {
                                userInfoId = userInfo.data.id;
                                var data = {
                                    'contentid': 3007261,
                                    'member_id': userInfoId,
                                    'siteid': 10001                                };
                                if(isEquipment().isApp && isNewVersions()){
                                    data.credit = '0'
                                }
                                $.post('https://www.dutenews.com/index/ajax/memberDigg', data, function(res) {
                                    console.log(res);
                                });
                            }
                        });
                    }

                }
                
                if(isEquipment().isApp && isNewVersions()){
						var sets = setTimeout(function(){
							memberDigg();
							clearTimeout(sets)
						},800)               
                  }

                $('.btn').addClass('onck');
                $('.btn').css('color', _color.color);
                $('.btn').css('border', '1px solid #dedede');
                $('.btn').css("background", "white");
                $('.praise .btn i').addClass('icon-dianzan-').removeClass('icon-dianzan--');
                $('#praiseNum').text(~~($('#praiseNum').text()) + 1);
                plusOne(e);
                
                  var a_nt = document.getElementById('a_nt') && document.getElementById('a_nt').innerHTML || 'è¶…èŒï¼å®æ‹å‘¼ä¼¦è´å°”è‰åŸæ²™ç‹å‡ºæ²¡ ' || '';
                   var a_tp = document.getElementById('a_tp') && document.getElementById('a_tp').innerHTML || '';
                    window.TA17Obj && TA17Obj.track({
                    "eventKey": "A0021",
                    "trackInfos":[
                        {
                        "eventItemName":'ç‚¹èµ', 
                        "eventItemType" : "C01",
                        "customParam":{ 
                                "isSuccess": true,
                                "a_id" : '3007261', 
                                "userIDs" : userInfoId,
                                "a_nt" : a_nt,
                                "a_tp" : a_tp || 'B0021003'
                            }
                        }
                    ]
                });

            }
        };


        function plusOne(e) {
            var $i = $("<b>").text("+" + 1);
            var x = e.pageX,
                y = e.pageY;
            $i.css({
                top: '0px',
                left: '50px',
                position: "absolute",
                color: _color.color,
                "font-size": "1.4em"
            });
            $(".btn").append($i);
            $i.animate({
                top: "-50px",
                opacity: 0,
                "font-size": "2em"
            }, 750, function() {
                $i.remove();
            });
            e.stopPropagation();
        }

        function isEquipment(){
        let UA = navigator.userAgent,
        isAndroid = /android|adr|linux/gi.test(UA),
        isIOS = /iphone|ipod|ipad/gi.test(UA) && !isAndroid,
        isApp = /mediacloudclient/gi.test(UA);

        return {
            isAndroid: isAndroid, 
            isIOS: isIOS, 
            isApp: isApp || false, 
        };

    }
    function compareVersion(v1, v2) {
        if (v1 == v2) {
                return 0;
            }

        let vs1 = v1.split('.').map((a) => parseInt(a));
        let vs2 = v2.split('.').map((a) => parseInt(a));
        if (vs1.length > vs2.length) {
            vs2.push(0);
        } else if (vs1.length < vs2.length) {
            vs1.push(0);
        }
        var res1 = +vs1.join('');
        var res2 = +vs2.join('');
        var res = res1 - res2;
        if (res > 0) {
            return 1;
        } else if(res == 0) {
            return 0;
        } else {
            return -1;
        }
    }
    
     function isNewVersions(){
        const agent = navigator.userAgent;
        let reg = /mediacloudclient\((.+?)\)/g;
        let mead = agent.match(reg);
        var meadstring, mes;
        if (mead) {
            meadstring = mead && mead[0].split(' ')[1];
            mes = meadstring.substr(0, meadstring.length - 1);
            var value = compareVersion(mes, '6.1.1.0');
            if (value > 0) {
                return true
            } else {
                return false;
            }

        }
        return false
     }

     function memberDigg(){  
        if(mc && isEquipment().isApp){ 
            mc.likeActionSuccess({
                appid:'1',
                contentid: 3007261            })
        }
     }
    </script>
<!-- å†…å®¹å±æ€§ -->

    <!--ç›¸å…³é˜…è¯»-->
    <div class="relateread" id="relateread">
        <div class="module-title">
            æ¨èé˜…è¯»        </div>
        <div class="relateread-body">
            <ul>
                                    <li>
                        <a class="relateread-item-link" data-param='{"contentid":2132714,"title":"\u4e0d\u53ea\u662f\u5927\u8c61\uff0c\u5404\u5730\u91ce\u751f\u52a8\u7269\u9891\u9891\u201c\u4eae\u76f8\u201d","appid":1,"comments":0,"pv":0,"virtual_pv":"3177","created":"06-15","published":"06-15","thumb":"https:\/\/img.dutenews.com\/a\/thumb\/10001\/202106\/14f2742f275f90d611e748758b384405.jpeg@w704_h528.jpeg","summary":"\u4e0d\u53ea\u662f\u5927\u8c61\uff0c\u5404\u5730\u91ce\u751f\u52a8\u7269\u9891\u9891\u201c\u4eae\u76f8\u201d","published_timestamp":1623733194,"siteid":10001,"wapurl":"https:\/\/m.dutenews.com\/p\/2132714.html","click_pv":780,"virtual_digg":"12","shares":"26","digg":21,"source":"\u4e2d\u56fd\u6797\u4e1a\u7f51\u5fae\u4fe1\u516c\u53f7"}' href="#">
                            <span class="relateread-img" style="background-image:url(https://img.dutenews.com/a/thumb/10001/202106/14f2742f275f90d611e748758b384405.jpeg@w704_h528.jpeg)">
                            </span>
                            <div class="relateread-describe" style="height:auto;min-height:0.84rem">
                                <div class="relateread-describe-link"  style="min-height: 0.6rem">ä¸åªæ˜¯å¤§è±¡ï¼Œå„åœ°é‡ç”ŸåŠ¨ç‰©é¢‘é¢‘â€œäº®ç›¸â€</div>
                                <div class="relateread-describe-detail" style="position: relative;margin-top: 0.1rem;">
                                    <span class="timed"></span>
                                                                            <span class="soucres" style="height:0.15rem;max-width: inherit;">&nbsp;ä¸­å›½æ—ä¸šç½‘å¾®ä¿¡å…¬å·</span>
                                                                                                        </div>
                            </div>
                        </a>
                    </li>
                                    <li>
                        <a class="relateread-item-link" data-param='{"contentid":2666382,"title":"\u6df1\u5733\u540e\u68f1\u86c7\u3001\u8d64\u9e82\u7b49\u5165\u9009\u65b0\u7248\u300a\u5e7f\u4e1c\u7701\u91cd\u70b9\u4fdd\u62a4\u9646\u751f\u91ce\u751f\u52a8\u7269\u540d\u5f55\u300b","appid":1,"comments":0,"pv":0,"virtual_pv":"2257","created":"07-09","published":"07-09","thumb":"https:\/\/img.dutenews.com\/a\/10001\/202107\/087a603cdd47d64095cb9dc364a21713.png","summary":"\u65e5\u524d\uff0c\u7ecf\u5e7f\u4e1c\u7701\u4eba\u6c11\u653f\u5e9c\u540c\u610f\uff0c\u5e7f\u4e1c\u7701\u6797\u4e1a\u5c40\u6b63\u5f0f\u5370\u53d1\u300a\u5e7f\u4e1c\u7701\u91cd\u70b9\u4fdd\u62a4\u9646\u751f\u91ce\u751f\u52a8\u7269\u540d\u5f55\u300b\u3002","published_timestamp":1625801788,"siteid":10001,"wapurl":"https:\/\/m.dutenews.com\/p\/2666382.html","click_pv":1514,"virtual_digg":"15","shares":"47","digg":48,"source":"\u6df1\u5733\u7279\u533a\u62a5\u8bb0\u8005 \u79e6\u7eee\u851a"}' href="javascript:void(0)">
                            <span class="relateread-img" style="background-image:url(https://img.dutenews.com/a/10001/202107/087a603cdd47d64095cb9dc364a21713.png)">
                            </span>
                            <div class="relateread-describe" style="height:auto;min-height:0.84rem">
                                <div class="relateread-describe-link"  style="min-height: 0.6rem">æ·±åœ³åæ£±è›‡ã€èµ¤éº‚ç­‰å…¥é€‰æ–°ç‰ˆã€Šå¹¿ä¸œçœé‡ç‚¹ä¿æŠ¤é™†ç”Ÿé‡ç”ŸåŠ¨ç‰©åå½•ã€‹</div>
                                <div class="relateread-describe-detail" style="position: relative;margin-top: 0.1rem;">
                                    <span class="timed"></span>
                                                                            <span class="soucres" style="height:0.15rem;max-width: inherit;">&nbsp;æ·±åœ³ç‰¹åŒºæŠ¥è®°è€… ç§¦ç»®è”š</span>
                                                                                                        </div>
                            </div>
                        </a>
                    </li>
                                    <li>
                        <a class="relateread-item-link" data-param='{"contentid":2045248,"title":"\u6df1\u5733\u5b9d\u5b89\u673a\u573a\u6d77\u5173\u67e5\u83b7\u5165\u5883\u8c61\u7259\u3001\u9cc4\u9c7c\u76ae\u7b49\u6fd2\u5371\u91ce\u751f\u52a8\u7269\u5236\u54c14.532\u5343\u514b","appid":1,"comments":0,"pv":0,"virtual_pv":"3918","created":"06-10","published":"06-10","thumb":"https:\/\/img.dutenews.com\/a\/10001\/202106\/6c5b8488d8576786baf7617db4f33c55.jpeg","summary":"\u9664\u5408\u6cd5\u6301\u6709\u300a\u5141\u8bb8\u8fdb\u51fa\u53e3\u8bc1\u660e\u4e66\u300b\u5916\uff0c\u7981\u6b62\u8d38\u6613\u3001\u643a\u5e26\u3001\u90ae\u5bc4\u73cd\u8d35\u7a00\u6709\u91ce\u751f\u52a8\u690d\u7269\u7269\u79cd\u53ca\u4ea7\u54c1\u8fdb\u51fa\u5883\uff0c\u60c5\u8282\u4e25\u91cd\u6784\u6210\u72af\u7f6a\u7684\u5c06\u4f9d\u6cd5\u8ffd\u7a76\u5211\u4e8b\u8d23\u4efb\u3002","published_timestamp":1623323120,"siteid":10001,"wapurl":"https:\/\/m.dutenews.com\/p\/2045248.html","click_pv":383,"virtual_digg":"12","shares":"4","digg":16,"source":""}' href="">
                            <span class="relateread-img" style="background-image:url(https://img.dutenews.com/a/10001/202106/6c5b8488d8576786baf7617db4f33c55.jpeg)">
                            </span>
                            <div class="relateread-describe" style="height:auto;min-height:0.84rem">
                                <div class="relateread-describe-link"  style="min-height: 0.6rem">æ·±åœ³å®å®‰æœºåœºæµ·å…³æŸ¥è·å…¥å¢ƒè±¡ç‰™ã€é³„é±¼çš®ç­‰æ¿’å±é‡ç”ŸåŠ¨ç‰©åˆ¶å“4.532åƒå…‹</div>
                                <div class="relateread-describe-detail" style="position: relative;margin-top: 0.1rem;">
                                    <span class="timed"></span>
                                                                                                        </div>
                            </div>
                        </a>
                    </li>
                                    <li>
                        <a class="relateread-item-link" data-param='{"contentid":1423100,"title":"\u201c\u5b88\u62a4\u548c\u8c10\u5bb6\u56ed\u201d\u7f57\u6e56\u94f6\u6e56\u793e\u533a\u5f00\u5c55\u91ce\u751f\u52a8\u7269\u6444\u5f71\u6bd4\u8d5b","appid":1,"comments":0,"pv":0,"virtual_pv":"3535","created":"04-08","published":"04-08","thumb":"https:\/\/img.dutenews.com\/a\/10001\/202104\/2bcfa153d80703465caa7c54aff87383.jpeg","summary":"4\u67081\u65e5\u81f37\u65e5\uff0c\u7f57\u6e56\u533a\u6e05\u6c34\u6cb3\u8857\u9053\u94f6\u6e56\u793e\u533a\u515a\u59d4\u3001\u4e1c\u897f\u65b9\u793e\u5de5\u670d\u52a1\u793e\u9a7b\u94f6\u6e56\u793e\u533a\u515a\u7fa4\u670d\u52a1\u4e2d\u5fc3\u8054\u5408\u5f00\u5c55\u4ee5\u201c\u4fdd\u62a4\u91ce\u751f\u52a8\u7269\uff0c\u5b88\u62a4\u548c\u8c10\u5bb6\u56ed\u201d\u4e3a\u4e3b\u9898\u7684\u6444\u5f71\u6bd4\u8d5b","published_timestamp":1617885549,"siteid":10001,"wapurl":"https:\/\/m.dutenews.com\/p\/1423100.html","click_pv":2972,"virtual_digg":"15","shares":"5","digg":25,"source":""}' href="">
                            <span class="relateread-img" style="background-image:url(https://img.dutenews.com/a/10001/202104/2bcfa153d80703465caa7c54aff87383.jpeg)">
                            </span>
                            <div class="relateread-describe" style="height:auto;min-height:0.84rem">
                                <div class="relateread-describe-link"  style="min-height: 0.6rem">â€œå®ˆæŠ¤å’Œè°å®¶å›­â€ç½—æ¹–é“¶æ¹–ç¤¾åŒºå¼€å±•é‡ç”ŸåŠ¨ç‰©æ‘„å½±æ¯”èµ›</div>
                                <div class="relateread-describe-detail" style="position: relative;margin-top: 0.1rem;">
                                    <span class="timed"></span>
                                                                                                        </div>
                            </div>
                        </a>
                    </li>
                                    <li>
                        <a class="relateread-item-link" data-param='{"contentid":2003236,"title":"\u4e5d\u6d32\u6d77\u5173\u5728\u8fdb\u5883\u56fd\u9645\u90ae\u4ef6\u4e2d\u67e5\u83b7\u6fd2\u5371\u91ce\u751f\u52a8\u7269\u7ea2\u73ca\u745a\u5236\u54c1","appid":1,"comments":0,"pv":0,"virtual_pv":"3588","created":"06-08","published":"06-08","thumb":"https:\/\/img.dutenews.com\/a\/thumb\/10001\/202106\/428ef4dc950285ecb11306163116c863.jpeg@w1200_h900.jpeg","summary":"\u6d77\u5173\u5c06\u4f9d\u6cd5\u4e88\u4ee5\u5904\u7f6e\uff0c\u5e76\u8ffd\u7a76\u76f8\u5e94\u6cd5\u5f8b\u8d23\u4efb\u3002","published_timestamp":1623141522,"siteid":10001,"wapurl":"https:\/\/m.dutenews.com\/p\/2003236.html","click_pv":111,"virtual_digg":"11","shares":"0","digg":11,"source":"\u89c2\u6d77\u878d\u5a92"}' href="">
                            <span class="relateread-img" style="background-image:url(https://img.dutenews.com/a/thumb/10001/202106/428ef4dc950285ecb11306163116c863.jpeg@w1200_h900.jpeg)">
                            </span>
                            <div class="relateread-describe" style="height:auto;min-height:0.84rem">
                                <div class="relateread-describe-link"  style="min-height: 0.6rem">ä¹æ´²æµ·å…³åœ¨è¿›å¢ƒå›½é™…é‚®ä»¶ä¸­æŸ¥è·æ¿’å±é‡ç”ŸåŠ¨ç‰©çº¢çŠç‘šåˆ¶å“</div>
                                <div class="relateread-describe-detail" style="position: relative;margin-top: 0.1rem;">
                                    <span class="timed"></span>
                                                                            <span class="soucres" style="height:0.15rem;max-width: inherit;">&nbsp;è§‚æµ·èåª’</span>
                                                                                                        </div>
                            </div>
                        </a>
                    </li>
                            </ul>
        </div>
    </div>
    <script>
        (function() {
            $("html").css("font-size", (($(document).width() / 375) * 100) + "px");
            var _arr = [{"contentid":2132714,"title":"\u4e0d\u53ea\u662f\u5927\u8c61\uff0c\u5404\u5730\u91ce\u751f\u52a8\u7269\u9891\u9891\u201c\u4eae\u76f8\u201d","appid":1,"comments":0,"pv":0,"virtual_pv":"3177","created":"06-15","published":"06-15","thumb":"https:\/\/img.dutenews.com\/a\/thumb\/10001\/202106\/14f2742f275f90d611e748758b384405.jpeg@w704_h528.jpeg","summary":"\u4e0d\u53ea\u662f\u5927\u8c61\uff0c\u5404\u5730\u91ce\u751f\u52a8\u7269\u9891\u9891\u201c\u4eae\u76f8\u201d","published_timestamp":1623733194,"siteid":10001,"wapurl":"https:\/\/m.dutenews.com\/p\/2132714.html","click_pv":780,"virtual_digg":"12","shares":"26","digg":21,"source":"\u4e2d\u56fd\u6797\u4e1a\u7f51\u5fae\u4fe1\u516c\u53f7"},{"contentid":2666382,"title":"\u6df1\u5733\u540e\u68f1\u86c7\u3001\u8d64\u9e82\u7b49\u5165\u9009\u65b0\u7248\u300a\u5e7f\u4e1c\u7701\u91cd\u70b9\u4fdd\u62a4\u9646\u751f\u91ce\u751f\u52a8\u7269\u540d\u5f55\u300b","appid":1,"comments":0,"pv":0,"virtual_pv":"2257","created":"07-09","published":"07-09","thumb":"https:\/\/img.dutenews.com\/a\/10001\/202107\/087a603cdd47d64095cb9dc364a21713.png","summary":"\u65e5\u524d\uff0c\u7ecf\u5e7f\u4e1c\u7701\u4eba\u6c11\u653f\u5e9c\u540c\u610f\uff0c\u5e7f\u4e1c\u7701\u6797\u4e1a\u5c40\u6b63\u5f0f\u5370\u53d1\u300a\u5e7f\u4e1c\u7701\u91cd\u70b9\u4fdd\u62a4\u9646\u751f\u91ce\u751f\u52a8\u7269\u540d\u5f55\u300b\u3002","published_timestamp":1625801788,"siteid":10001,"wapurl":"https:\/\/m.dutenews.com\/p\/2666382.html","click_pv":1514,"virtual_digg":"15","shares":"47","digg":48,"source":"\u6df1\u5733\u7279\u533a\u62a5\u8bb0\u8005 \u79e6\u7eee\u851a"},{"contentid":2045248,"title":"\u6df1\u5733\u5b9d\u5b89\u673a\u573a\u6d77\u5173\u67e5\u83b7\u5165\u5883\u8c61\u7259\u3001\u9cc4\u9c7c\u76ae\u7b49\u6fd2\u5371\u91ce\u751f\u52a8\u7269\u5236\u54c14.532\u5343\u514b","appid":1,"comments":0,"pv":0,"virtual_pv":"3918","created":"06-10","published":"06-10","thumb":"https:\/\/img.dutenews.com\/a\/10001\/202106\/6c5b8488d8576786baf7617db4f33c55.jpeg","summary":"\u9664\u5408\u6cd5\u6301\u6709\u300a\u5141\u8bb8\u8fdb\u51fa\u53e3\u8bc1\u660e\u4e66\u300b\u5916\uff0c\u7981\u6b62\u8d38\u6613\u3001\u643a\u5e26\u3001\u90ae\u5bc4\u73cd\u8d35\u7a00\u6709\u91ce\u751f\u52a8\u690d\u7269\u7269\u79cd\u53ca\u4ea7\u54c1\u8fdb\u51fa\u5883\uff0c\u60c5\u8282\u4e25\u91cd\u6784\u6210\u72af\u7f6a\u7684\u5c06\u4f9d\u6cd5\u8ffd\u7a76\u5211\u4e8b\u8d23\u4efb\u3002","published_timestamp":1623323120,"siteid":10001,"wapurl":"https:\/\/m.dutenews.com\/p\/2045248.html","click_pv":383,"virtual_digg":"12","shares":"4","digg":16,"source":""},{"contentid":1423100,"title":"\u201c\u5b88\u62a4\u548c\u8c10\u5bb6\u56ed\u201d\u7f57\u6e56\u94f6\u6e56\u793e\u533a\u5f00\u5c55\u91ce\u751f\u52a8\u7269\u6444\u5f71\u6bd4\u8d5b","appid":1,"comments":0,"pv":0,"virtual_pv":"3535","created":"04-08","published":"04-08","thumb":"https:\/\/img.dutenews.com\/a\/10001\/202104\/2bcfa153d80703465caa7c54aff87383.jpeg","summary":"4\u67081\u65e5\u81f37\u65e5\uff0c\u7f57\u6e56\u533a\u6e05\u6c34\u6cb3\u8857\u9053\u94f6\u6e56\u793e\u533a\u515a\u59d4\u3001\u4e1c\u897f\u65b9\u793e\u5de5\u670d\u52a1\u793e\u9a7b\u94f6\u6e56\u793e\u533a\u515a\u7fa4\u670d\u52a1\u4e2d\u5fc3\u8054\u5408\u5f00\u5c55\u4ee5\u201c\u4fdd\u62a4\u91ce\u751f\u52a8\u7269\uff0c\u5b88\u62a4\u548c\u8c10\u5bb6\u56ed\u201d\u4e3a\u4e3b\u9898\u7684\u6444\u5f71\u6bd4\u8d5b","published_timestamp":1617885549,"siteid":10001,"wapurl":"https:\/\/m.dutenews.com\/p\/1423100.html","click_pv":2972,"virtual_digg":"15","shares":"5","digg":25,"source":""},{"contentid":2003236,"title":"\u4e5d\u6d32\u6d77\u5173\u5728\u8fdb\u5883\u56fd\u9645\u90ae\u4ef6\u4e2d\u67e5\u83b7\u6fd2\u5371\u91ce\u751f\u52a8\u7269\u7ea2\u73ca\u745a\u5236\u54c1","appid":1,"comments":0,"pv":0,"virtual_pv":"3588","created":"06-08","published":"06-08","thumb":"https:\/\/img.dutenews.com\/a\/thumb\/10001\/202106\/428ef4dc950285ecb11306163116c863.jpeg@w1200_h900.jpeg","summary":"\u6d77\u5173\u5c06\u4f9d\u6cd5\u4e88\u4ee5\u5904\u7f6e\uff0c\u5e76\u8ffd\u7a76\u76f8\u5e94\u6cd5\u5f8b\u8d23\u4efb\u3002","published_timestamp":1623141522,"siteid":10001,"wapurl":"https:\/\/m.dutenews.com\/p\/2003236.html","click_pv":111,"virtual_digg":"11","shares":"0","digg":11,"source":"\u89c2\u6d77\u878d\u5a92"}];
            if (!_arr) {
                return;
            }
            setPastTime();

            setInterval(function() {
                setPastTime();
            }, 1000 * 60);

            function setPastTime() {
                $("span.timed").each(function(index, ele) {
                    $(this).text(timeFormat(_arr[index].published_timestamp, _arr[index].published));
                })
            }
            function timeFormat(timestamp, published) {
                if (!timestamp) {
                    return '-- ';
                }
                var now = Math.round(new Date().getTime() / 1000);
                var difference = now - timestamp;
                if (difference > 60 * 60 * 24) {
                    return published;
                } else if (difference > 60 * 60) {
                    return Math.ceil(difference / (60 * 60)) + "å°æ—¶å‰";
                } else {
                    return Math.ceil(difference / (60)) + "åˆ†é’Ÿå‰";
                }
            }
            $('.thousand').each(function(i, e) {
                if ($(this).text() >= 10000) {
                    var _pv = parseInt($(this).text()) / 10000;
                    _pv = _pv.toFixed(1);
                    if ((_pv + '').lastIndexOf('0') == ((_pv + '').length - 1)) {
                        $(this).text(parseInt(_pv) + 'ä¸‡');
                    } else {
                        $(this).text(_pv + 'ä¸‡');
                    }
                }
            })
        })()
    </script>
        <!-- è¯„è®º start -->
        <div style="display: none;">
          <div class="appid">1</div>
          <div class="id">3007261</div>
          <div class="url">https://m.dutenews.com/index/comment/list</div>
        </div>
        <div id="app" v-if="isNew" ref="scrollItem">
          <template>
            <section class="comment_h5" >
              <div class="comment-title">
                <span class="comment-title-line"></span>
                æœ€æ–°è¯„è®ºï¼ˆ
                <span class="comment-totals">{{ cmt_sum }}</span>
                ï¼‰
              </div>
              <div class="comment-content">
                <div class="comment-item" v-for="(item, index) in list" :key="item.comment_id">
                  <img
                    v-if="item.passport.img_url"
                    :src="item.passport.img_url"
                    alt=""
                    :class="['comment-item-avatar']"
                    @click.stop="choose(item)"
                  />
                  <div
                    v-if="!item.passport.img_url"
                    :class="['comment-item-avatar', { 'comment-item-avatar--no': !item.passport.img_url }]"
                    @click.stop="choose(item)"
                  ></div>
                  <div class="comment-item-r">
                    <div class="comment-tem-r-t">
                      <div class="comment-name">{{ item.passport.nickname }}</div>
                      <div class="comment-praise" @click="praise(item)">
                        <span class="comment-praise-num">{{ item.support_count }}</span>
                        <span
                          :class="['comment-praise-icon', { 'comment-praise-icon--praised': item.isPraised }]"
                        ></span>
                      </div>
                    </div>
                    <div class="comment-tem-r-c">
                      <span class="comment-address">{{ item.ip_location }}</span>
                      <span class="comment-time">{{ transformTime(item.create_time_orig) }}</span>
                    </div>

                    <!-- ç›–æ¥¼ start -->
                    <div class="second-comment" v-if="item.comments.length > 0">
                      <div
                        class="comment-item comment-item--child"
                        v-for="(childItem, childIndex) in getSecondCommentList(item.comments)"
                        :key="childItem.comment_id"
                      >
                        <div class="childIndex">{{ childIndex + 1 }}</div>
                        <div class="comment-item-r comment-item-r--child">
                          <div class="comment-tem-r-t">
                            <div class="comment-name comment-name--child">
                              {{ childItem.passport.nickname }}
                            </div>
                            <div class="comment-praise" @click="praise(childItem)">
                              <span class="comment-praise-num">{{ childItem.support_count }}</span>
                              <span
                                :class="[
                                  'comment-praise-icon',
                                  { 'comment-praise-icon--praised': childItem.isPraised }
                                ]"
                              ></span>
                            </div>
                          </div>
                          <div class="comment-tem-r-c">
                            <span class="comment-address">{{ childItem.ip_location }}</span>
                            <span class="comment-time">{{ transformTime(childItem.create_time_orig) }}</span>
                          </div>
                          <div
                            :class="[
                              'comment-tem-r-b comment-tem-r-b--child',
                              { 'comment-tem-r-b--active': isSelected1(item, childItem) }
                            ]"
                          >
                            <div class="comment-content scaleFont" @click.stop="choose1(item, childItem)">
                              {{ transformContent(childItem) }}
                            </div>
                            <div class="tooltip" v-if="isSelected1(item, childItem)">
                              <div class="tooltip-item" @click="reply(childItem)">å›å¤</div>
                              <div class="tooltip-item" @click="copy(childItem)">å¤åˆ¶</div>
                              <div
                                v-if="member_id == childItem.passport.user_id"
                                class="tooltip-item"
                                @click="del(childItem)"
                              >
                                åˆ é™¤
                              </div>
                              <div v-else class="tooltip-item" @click="report(childItem)">ä¸¾æŠ¥</div>
                            </div>
                            <div class="triangle" v-if="isSelected1(item, childItem)"></div>
                          </div>
                          <div
                            v-if="childItem.content.length > contentLength && !childItem.isSpread"
                            class="spread"
                            @click="toggleSpread1(item, childItem)"
                          >
                            <span>å…¨æ–‡</span>
                            <span class="icon"></span>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- ç›–æ¥¼ end -->

                    <div :class="['comment-tem-r-b', { 'comment-tem-r-b--active': isSelected(item) }]">
                      <div class="comment-content scaleFont" @click.stop="choose(item)">
                        {{ transformContent(item) }}
                      </div>
                      <div class="tooltip" v-if="isSelected(item)">
                        <div class="tooltip-item" @click="reply(item)">å›å¤</div>
                        <div class="tooltip-item" @click="copy(item)">å¤åˆ¶</div>
                        <div
                          v-if="member_id == item.passport.user_id"
                          class="tooltip-item"
                          @click="del(item)"
                        >
                          åˆ é™¤
                        </div>
                        <div v-else class="tooltip-item" @click="report(item)">ä¸¾æŠ¥</div>
                      </div>
                      <div class="triangle" v-if="isSelected(item)"></div>
                    </div>
                    <div
                      v-if="item.content.length > contentLength && !item.isSpread"
                      class="spread"
                      @click="toggleSpread(item)"
                    >
                      <span>å…¨æ–‡</span>
                      <span class="icon"></span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="tip-text" v-if="commentLoading">åŠ è½½ä¸­...</div>
              <div class="tip-text" v-if="list.length === cmt_sum && isNoMore">æ²¡æœ‰æ›´å¤šæ•°æ®äº†~</div>
            </section>
          </template>
        </div>
        <!-- è¯„è®º end -->
    </div>
    <script>
        var _appTheme = {"id":2,"name":"\u5c0a\u4eab\u7ea2","color_begin":"#F64E45","color":"#F64E45"};
        var _color = {"id":2,"name":"\u5c0a\u4eab\u7ea2","color_begin":"#F64E45","color":"#F64E45"};
    </script>

    <script type="text/javascript" src="https://m-api.dutenews.com//assets/v2/js/vue.min.js"></script>
    <script type="text/javascript" src="https://m-api.dutenews.com//assets/v2/js/vconsole.min.js"></script>
                <script type="text/javascript" src="https://m-api.dutenews.com//assets/v2/output/article_v5.min.js?_=1626402612134"></script>
    </body>
<script>
    /* new VConsole(); */
</script>
<script>
  const debounce = (fn, delay) => {
    let timer = null;
    return function (...args) {
      clearTimeout(timer);
      timer = setTimeout(() => {
        fn.apply(this, args);
      }, delay);
    };
  };
  const isEquipmentFunc = () => {
    let UA = navigator.userAgent,
      isAndroid = /android|adr|linux/gi.test(UA),
      isIOS = /iphone|ipod|ipad/gi.test(UA) && !isAndroid,
      isApp = /mediacloudclient/gi.test(UA);

    return {
      isAndroid: isAndroid,
      isIOS: isIOS,
      isApp: isApp || false
    };
  };
  const isIOS = () => {
    var u = navigator.userAgent;
    var isIos = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);
    return isIos;
  };
  const commentCompareVersion = (v1, v2) => {
    if (v1 == v2) {
      return 0;
    }

    let vs1 = v1.split('.').map((a) => parseInt(a));
    let vs2 = v2.split('.').map((a) => parseInt(a));
    if (vs1.length > vs2.length) {
      vs2.push(0);
    } else if (vs1.length < vs2.length) {
      vs1.push(0);
    }
    var res1 = +vs1.join('');
    var res2 = +vs2.join('');
    var res = res1 - res2;
    if (res > 0) {
      return 1;
    } else if(res == 0) {
      return 0;
    } else {
      return -1;
    }
  };
  new Vue({
    el: '#app',
    data() {
      return {
        list: [],
        activeIndex: null,
        parentIndex: null,
        contentLength: 80,
        ids: [],
        cmt_sum: 0,
        total_page_no: 1,
        page: 1,
        pagesize: 5,
        commentLoading: false,
        loading: false,
        isNoMore: false,
        offset: 80,
        delay: 1000,
        member_id: null,
        handleScroll: debounce(this.loadMore, this.delay),
        currnetVersion: '6.2.3.0',
        isNew: false
      };
    },
    async created() {
      const agent = navigator.userAgent;
      let reg = /mediacloudclient\((.+?)\)/g;
      let mead = agent.match(reg);
      var meadstring, mes;
      if (mead) {
        meadstring = mead && mead[0].split(' ')[1];
        mes = meadstring.substr(0, meadstring.length - 1);
        var value = commentCompareVersion(mes, this.currnetVersion);
        if (value >= 0) {
          this.isNew = true;
        } else {
          this.isNew = false;
        }
      }
      if(!this.isNew) return;
      this.getUserInfo();
      window.commentSuccess = (result) => {
        this.commentSuccess(result);
      };
      window.resetSuccess = (result) => {
        this.resetSuccess(result);
      };
    },
    mounted() {
      if(!this.isNew) return;
      document.addEventListener('click', (e) => {
        this.clearSelect();
      });
      this.$once('hook:beforeDestroy', () => {
        document.removeEventListener('click', this.clearSelect());
      });

      document.addEventListener('scroll',  this.handleScroll);
      this.$once('hook:beforeDestroy', () => {
        document.removeEventListener('scroll',  this.handleScroll);
      });
    },
    methods: {
      loadMore() {
        if (this.loading) return;
        var ScrollTop = document.documentElement.scrollTop || document.body.scrollTop;
        var ClientHeight = document.documentElement.clientHeight;
        var ScrollHeight = document.documentElement.scrollHeight;
        if (ScrollHeight - ScrollTop - ClientHeight < this.offset) {
          if (this.page > this.total_page_no) {
            this.isNoMore = true;
            return;
          } else {
            console.log('loadMore');
            this.fetchData();
          }
        }
      },
      fetchData(isScroll, pagesize) {
        this.loading = true;
        if (this.page !== 1) {
          this.commentLoading = true;
        }
        var params = {
          appid: $('.appid').text(),
          content_id: $('.id').text(),
          page: this.page,
          pagesize: pagesize || this.pagesize,
          memberid: this.member_id || 0
        };
        var url = $('.url').text();
        var _this = this;
        $.ajax({
          type: 'get',
          url,
          data: params,
          dataType: 'jsonp',
          success: function (res) {
            console.log(`ğŸš€ ~ res`, res);
            _this.res = res;
            _this.commentLoading = false;
            _this.loading = false;
            if (res.state) {
              _this.cmt_sum = res.data.cmt_sum;
              if (_this.cmt_sum === 0) {
                _this.isNoMore = true;
              };
              _this.total_page_no = res.data.total_page_no;
              if(pagesize) {
                _this.list = [...res.data.comments, ..._this.list];
              } else {
                _this.list = [..._this.list, ...res.data.comments];
              }
              _this.page++;
              _this.backShowPraise();
              if (isScroll) {
                _this.$nextTick(() => {
                  _this.toCommentPosition();
                })
              }

              _this.$nextTick(() => {
                let sets = setTimeout(() => {
                  let fontNumber = $('#content_size *').length > 0 && parseFloat($('#content_size *').eq(0).css('fontSize')) / parseFloat($('#content_size *').eq(0).attr('ft-size')) || window.sclceFontUnmber;
                  _this.fontSizeScale = parseFloat(fontNumber.toFixed(2));
                  $('.scaleFont').each(function (i, e) {
                      if(!$(this).attr('ft-size')){
                        $(this).attr('ft-size',$(this).css("font-size"));
                        $(this).css('font-size', parseFloat($(this).attr('ft-size')) * _this.fontSizeScale+ "px");
                      };
                      clearTimeout(sets);
                  })
                
                }, 200);
              })
            }
          },
          error: function (err) {
            _this.commentLoading = false;
            _this.loading = false;
          }
        });
      },
      replyCb() {
        this.fetchCommentNum(true, true);
      },
      toCommentPosition() {
        this.loading = true;
        let target = this.$refs.scrollItem.offsetTop;
        let top = document.documentElement.scrollTop || document.body.scrollTop;
        let speed = (top - target) / 30;
        const timeTop = setInterval(() => {
          document.body.scrollTop = document.documentElement.scrollTop = top -= speed;
          if (Math.abs(top - target) <= 10) {
            document.body.scrollTop = document.documentElement.scrollTop = target;
            clearInterval(timeTop);
            this.loading = false;
          }
        }, 10);
      },
      getUserInfo() {
        if (isEquipmentFunc().isApp && mc) {
          var _this = this;
          mc.userGetInfo(function (res) {
            _this.getIds(_this.fetchData);
            if (res.state) {
              _this.member_id = res.data.id;
            }
          });
        }
      },
      getIds(cb) {
        if (isEquipmentFunc().isApp && mc) {
          var _this = this;
          mc.commentDigData(function (res) {
            _this.ids = res;
            typeof cb === 'function' && cb();
          });
        }
      },
      reply(item) {
        const comment_id = item.comment_id || '';
        const nickname = item.passport.nickname || '';
        this.clearSelect();
        if (isEquipmentFunc().isApp && mc) {
          var _this = this;
          mc.commentReplyAction(comment_id, nickname, function (res) {
            if (res.state) {
              _this.member_id = res.memberId;
              _this.replyCb();
            }
          });
        }
      },
      copy(item) {
        let content = item.content;
        if (isIOS()) {
          content = content.replace(/\n/g, '/n');
        }
        this.clearSelect();
        if (isEquipmentFunc().isApp && mc) {
          mc.commentCopyAction(content);
        }
      },
      delete(comment_id) {
        for (var i = 0; i < this.list.length; i++) {
          if (this.list[i]['comment_id'] === comment_id) {
            this.list.splice(i, 1);
          }
          for (var j = 0; j < this.list[i].comments.length; j++) {
            if (this.list[i].comments[j]['comment_id'] === comment_id) {
              this.list[i].comments.splice(j, 1);
            }
          }
        }
      },
      fetchCommentNum(isScroll, isReply) {
        var params = {
          appid: $('.appid').text(),
          content_id: $('.id').text(),
          page: 1,
          pagesize: 1,
          memberid: this.member_id || 0
        };
        var url = $('.url').text();
        var _this = this;
        $.ajax({
          type: 'get',
          url,
          data: params,
          dataType: 'jsonp',
          success: function (res) {
            if (res.state) {
              _this.cmt_sum = res.data.cmt_sum;
              if (_this.cmt_sum === 0) {
                _this.isNoMore = true;
              };
              const index = _this.list.findIndex(el => el.comment_id === res.data.comments[0].comment_id);
              if (isReply && index == -1) {
                _this.list = [...res.data.comments, ..._this.list];
              }
              if (isScroll) {
                _this.$nextTick(() => {
                  _this.toCommentPosition();
                })
              }

              _this.$nextTick(() => {
                let sets = setTimeout(() => {
                  let fontNumber = $('#content_size *').length > 0 && parseFloat($('#content_size *').eq(0).css('fontSize')) / parseFloat($('#content_size *').eq(0).attr('ft-size')) || window.sclceFontUnmber;
                  _this.fontSizeScale = parseFloat(fontNumber.toFixed(2));
                  $('.scaleFont').each(function (i, e) {
                      if(!$(this).attr('ft-size')){
                        $(this).attr('ft-size',$(this).css("font-size"));
                        $(this).css('font-size', parseFloat($(this).attr('ft-size')) * _this.fontSizeScale+ "px");
                      };
                      clearTimeout(sets);
                  })
                
                }, 10);
              })
            }
          }
        });
      },
      del(item) {
        const comment_id = item.comment_id;
        this.clearSelect();
        if (isEquipmentFunc().isApp && mc) {
          var _this = this;
          mc.commentDeleteAction(comment_id, function (res) {
            if (res) {
              _this.fetchCommentNum();
              _this.delete(comment_id);
            }
          });
        }
      },
      report(item) {
        const comment_id = item.comment_id;
        this.clearSelect();
        if (isEquipmentFunc().isApp && mc) {
          mc.commentReportAction(comment_id);
        }
      },
      commentSuccess(res) {
        this.member_id = res;
        this.replyCb();
      },
      resetSuccess(res) {
        this.member_id = res;
        this.page = 1;
        this.list = [];
        this.fetchData(true);
      },
      clearSelect() {
        this.activeIndex = null;
        this.parentIndex = null;
      },
      choose(item) {
        this.activeIndex = item.comment_id;
        this.parentIndex = null;
      },
      choose1(item, childItem) {
        this.parentIndex = item.comment_id;
        this.activeIndex = childItem.comment_id;
      },
      praise(item, key = 'comment_id', val = 'isPraised') {
        this.clearSelect();
        const comment_id = item.comment_id;
        const res = !!item[val];
        const num = item.support_count;
        var _this = this;
        let a_nt = document.getElementById('a_nt') && document.getElementById('a_nt').innerHTML || 'è¶…èŒï¼å®æ‹å‘¼ä¼¦è´å°”è‰åŸæ²™ç‹å‡ºæ²¡ ' || '';
        let a_tp = document.getElementById('a_tp') && document.getElementById('a_tp').innerHTML || '';
        let userIDs = _this.member_id ? item.passport.user_id + ','+ _this.member_id :item.passport.user_id;
        if (isEquipmentFunc().isApp && mc) {
          let mcDate = {
            'commentId' : comment_id,
            'commentIDs' : item.comment_id,
            'userIDs' : userIDs
          }
          mc.commentLikeAction(mcDate, function (res1) {
            _this.getIds();
            if (res1) {
              if (res) {
                console.log('å·²èµ');
              } else {
                for (var i = 0; i < _this.list.length; i++) {
                  if (_this.list[i][key] === item[key]) {
                    _this.$set(_this.list[i], val, !res);
                    _this.$set(_this.list[i], 'support_count', num + 1);
                  }
                  for (var j = 0; j < _this.list[i].comments.length; j++) {
                    if (_this.list[i].comments[j][key] === item[key]) {
                      _this.$set(_this.list[i].comments[j], val, !res);
                      _this.$set(_this.list[i].comments[j], 'support_count', num + 1);
                    }
                  }
                }
              }
            }

       
            window.TA17Obj && TA17Obj.track({
                "eventKey": "A0021",
                "trackInfos":[
                    {
                    "eventItemName":'è¯„è®ºç‚¹èµ', 
                    "eventItemType" : "C01",
                    "customParam":{ 
                            "isSuccess": true,
                            "a_id" : '3007261',
                            "a_nt" : a_nt,
                            "a_tp" : a_tp || 'B0021004',
                            "commentIDs" : item.comment_id,
                            "userIDs":userIDs
                        }
                    }
                ]
            });

          });
        }
      },
      backShowPraise(key = 'comment_id', val = 'isPraised') {
        const ids = this.ids;
        if(ids && ids.length > 0) {
          for (var i = 0; i < this.list.length; i++) {
            if (ids.includes(this.list[i][key]) || ids.includes(''+this.list[i][key])) {
              this.$set(this.list[i], val, true);
            }
            for (var j = 0; j < this.list[i].comments.length; j++) {
              if (ids.includes(this.list[i].comments[j][key]) || ids.includes(''+this.list[i].comments[j][key])) {
                this.$set(this.list[i].comments[j], val, true);
              }
            }
          }
        }
      },
      toggleSpread(item) {
        const index = this.list.findIndex((el) => el.comment_id === item.comment_id);
        this.$set(this.list[index], 'isSpread', !item.isSpread);
      },
      toggleSpread1(item, childItem) {
        const index = this.list.findIndex((el) => el.comment_id === item.comment_id);
        const childIndex = this.list[index].comments.findIndex(
          (el) => el.comment_id === childItem.comment_id
        );
        this.$set(this.list[index].comments[childIndex], 'isSpread', !childItem.isSpread);
      },
      isSelected(item) {
        return item.comment_id === this.activeIndex && !this.parentIndex;
      },
      isSelected1(item, childItem) {
        return childItem.comment_id === this.activeIndex && item.comment_id === this.parentIndex;
      },
      transformContent(item) {
        if (item.content.length > this.contentLength && !item.isSpread) {
          return item.content.substring(0, 80) + '...';
        } else {
          return item.content;
        }
      },
      getSecondCommentList(list) {
        var arr = JSON.parse(JSON.stringify(list));
        var res = arr.sort((a, b) => {
          var val = a.create_time_orig - b.create_time_orig;
          return val;
        });
        return res;
      },
      transformTime(time1) {
        if (!time1) return;
        let time2 = time1 * 1000;
        let startDateM = new Date(time2).getTime();
        let fbTime = new Date(time2);
        let noTime = new Date();
        let minute = parseInt((noTime.getTime() - startDateM) / (1000 * 60));
        function getval(val) {
          return val > 9 ? val : '0' + val;
        }
        if (minute <= 60) {
          if (minute == 0) return `1åˆ†é’Ÿå‰`;
          return `${minute}åˆ†é’Ÿå‰`;
        } else if (minute <= 24 * 60) {
          const hour = Math.floor(minute / 60);
          return `${hour}å°æ—¶å‰`;
        } else {
          const month1 = fbTime.getMonth() + 1;
          const month = getval(month1);
          const day = getval(fbTime.getDate());
          const hour = getval(fbTime.getHours());
          const minute = getval(fbTime.getMinutes());
          return `${fbTime.getFullYear()}-${month}-${day}  ${hour}:${minute}`;
        }
      }
    }
  })
</script>
</html>
